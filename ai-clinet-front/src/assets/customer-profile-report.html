<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>客户画像分析报告</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
      color: #333;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      overflow: hidden;
    }

    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 40px;
      text-align: center;
    }

    .header h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      font-weight: 700;
    }

    .header .meta {
      font-size: 1rem;
      opacity: 0.9;
      margin-top: 10px;
    }

    .content {
      padding: 40px;
    }

    .section {
      margin-bottom: 50px;
    }

    .section-title {
      font-size: 1.8rem;
      color: #667eea;
      margin-bottom: 25px;
      padding-bottom: 10px;
      border-bottom: 3px solid #667eea;
      display: flex;
      align-items: center;
    }

    .section-title::before {
      content: '';
      width: 4px;
      height: 24px;
      background: #667eea;
      margin-right: 12px;
      border-radius: 2px;
    }

    .charts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 30px;
      margin-bottom: 30px;
    }

    .chart-card {
      background: #f8f9fa;
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .chart-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
    }

    .chart-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: #333;
      margin-bottom: 20px;
      text-align: center;
    }

    .chart-container {
      position: relative;
      height: 300px;
      width: 100%;
    }

    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .info-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .info-card h3 {
      font-size: 1rem;
      margin-bottom: 10px;
      opacity: 0.9;
    }

    .info-card .value {
      font-size: 2rem;
      font-weight: 700;
    }

    .data-list {
      background: #f8f9fa;
      border-radius: 12px;
      padding: 25px;
      margin-top: 20px;
    }

    .data-list ul {
      list-style: none;
      padding: 0;
    }

    .data-list li {
      padding: 12px;
      margin-bottom: 8px;
      background: white;
      border-radius: 8px;
      border-left: 4px solid #667eea;
      transition: transform 0.2s ease;
    }

    .data-list li:hover {
      transform: translateX(5px);
    }

    .risk-badge {
      display: inline-block;
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
      margin-left: 10px;
    }

    .risk-high {
      background: #fee2e2;
      color: #991b1b;
    }

    .risk-medium {
      background: #fef3c7;
      color: #92400e;
    }

    .risk-low {
      background: #d1fae5;
      color: #065f46;
    }

    .summary-section {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
      padding: 30px;
      border-radius: 12px;
      margin-top: 40px;
    }

    .summary-section h2 {
      margin-bottom: 20px;
      font-size: 1.8rem;
    }

    .summary-section ul {
      list-style: none;
      padding: 0;
    }

    .summary-section li {
      padding: 12px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      font-size: 1.05rem;
    }

    .summary-section li:last-child {
      border-bottom: none;
    }

    .summary-section li::before {
      content: '✓';
      margin-right: 10px;
      font-weight: bold;
    }

    @media (max-width: 768px) {
      .charts-grid {
        grid-template-columns: 1fr;
      }

      .header h1 {
        font-size: 2rem;
      }

      .content {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>客户画像分析报告</h1>
      <div class="meta">
        <div>分析时间范围：2025-10-17 至 2025-10-27</div>
        <div>数据来源：用户资金记录、登录记录、交易记录、操作日志</div>
      </div>
    </div>

    <div class="content">
      <!-- 核心指标 -->
      <div class="section">
        <div class="info-grid">
          <div class="info-card">
            <h3>主要地区占比</h3>
            <div class="value">80%+</div>
            <div style="font-size: 0.9rem; margin-top: 5px; opacity: 0.9;">中国客户</div>
          </div>
          <div class="info-card">
            <h3>KYC通过率</h3>
            <div class="value">90%+</div>
            <div style="font-size: 0.9rem; margin-top: 5px; opacity: 0.9;">状态9（已通过）</div>
          </div>
          <div class="info-card">
            <h3>最大单笔入金</h3>
            <div class="value">$100K</div>
            <div style="font-size: 0.9rem; margin-top: 5px; opacity: 0.9;">客户3920</div>
          </div>
          <div class="info-card">
            <h3>高频交易</h3>
            <div class="value">562笔</div>
            <div style="font-size: 0.9rem; margin-top: 5px; opacity: 0.9;">单日最高</div>
          </div>
        </div>
      </div>

      <!-- 1. 客户基本信息 -->
      <div class="section">
        <h2 class="section-title">1. 客户基本信息概述</h2>
        
        <div class="charts-grid">
          <div class="chart-card">
            <div class="chart-title">账户类型分布</div>
            <div class="chart-container">
              <canvas id="accountTypeChart"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-title">KYC状态分布</div>
            <div class="chart-container">
              <canvas id="kycStatusChart"></canvas>
            </div>
          </div>
        </div>

        <div class="data-list">
          <h3 style="margin-bottom: 15px; color: #667eea;">地区分布</h3>
          <ul>
            <li>主要来自中国（长沙、北京等地），占比超过80%</li>
            <li>其他地区包括新加坡、香港、美国、日本、澳大利亚、阿尔巴尼亚、安哥拉等</li>
          </ul>
        </div>
      </div>

      <!-- 2. 资金与交易特征 -->
      <div class="section">
        <h2 class="section-title">2. 资金与交易特征分析</h2>
        
        <div class="charts-grid">
          <div class="chart-card">
            <div class="chart-title">入金规模分布</div>
            <div class="chart-container">
              <canvas id="depositAmountChart"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-title">支付方式偏好</div>
            <div class="chart-container">
              <canvas id="paymentMethodChart"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-title">风险偏好分布</div>
            <div class="chart-container">
              <canvas id="riskPreferenceChart"></canvas>
            </div>
          </div>
        </div>

        <div class="data-list">
          <h3 style="margin-bottom: 15px; color: #667eea;">交易频率与品种偏好</h3>
          <ul>
            <li>高频交易：客户888072254在单日内完成562笔交易</li>
            <li>品种偏好：BTCUSD.pro（比特币）、XAUUSD（黄金）、EURUSD、GBPUSD等主流货币对</li>
            <li>交易规模：从1手到600手不等，客户888072254单笔交易量达600手</li>
          </ul>
        </div>
      </div>

      <!-- 3. 行为特征分析 -->
      <div class="section">
        <h2 class="section-title">3. 行为特征分析</h2>
        
        <div class="charts-grid">
          <div class="chart-card">
            <div class="chart-title">设备类型分布</div>
            <div class="chart-container">
              <canvas id="deviceTypeChart"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-title">渠道来源分布</div>
            <div class="chart-container">
              <canvas id="channelSourceChart"></canvas>
            </div>
          </div>
        </div>

        <div class="data-list">
          <h3 style="margin-bottom: 15px; color: #667eea;">登录时段特点</h3>
          <ul>
            <li>全天均有登录活动，无明显集中时段</li>
            <li>中国地区用户主要在当地工作时间登录</li>
            <li>部分客户存在异常高频登录（如客户3920在10天内登录234次）</li>
          </ul>
        </div>
      </div>

      <!-- 4. 风险评估 -->
      <div class="section">
        <h2 class="section-title">4. 风险评估</h2>
        
        <div class="data-list">
          <h3 style="margin-bottom: 15px; color: #667eea;">合规状态</h3>
          <ul>
            <li>绝大多数客户KYC状态正常（状态9）</li>
            <li>支付方式合规，使用正规银行和支付渠道</li>
            <li>部分客户注册国家与IP地址所在地不一致</li>
          </ul>
        </div>

        <div class="data-list" style="margin-top: 20px;">
          <h3 style="margin-bottom: 15px; color: #667eea;">异常交易行为</h3>
          <ul>
            <li>客户3920存在异常高频登录行为<span class="risk-badge risk-high">高风险</span></li>
            <li>客户888072254存在高频程序化交易特征<span class="risk-badge risk-medium">中风险</span></li>
            <li>客户3966多次出金申请被拒绝<span class="risk-badge risk-high">高风险</span></li>
            <li>部分内部转账金额较小但频次高<span class="risk-badge risk-low">低风险</span></li>
          </ul>
        </div>
      </div>

      <!-- 5. 客户分层 -->
      <div class="section">
        <h2 class="section-title">5. 客户分层</h2>
        
        <div class="charts-grid">
          <div class="chart-card">
            <div class="chart-title">客户分层分布</div>
            <div class="chart-container">
              <canvas id="customerSegmentChart"></canvas>
            </div>
          </div>
        </div>

        <div class="data-list">
          <h3 style="margin-bottom: 15px; color: #667eea;">分层详情</h3>
          <ul>
            <li><strong>高价值客户：</strong>客户3920（大额入金100,000 USD，代理账户）、客户888072254（高频大额交易，程序化交易者）、客户3989、3979（大额入金客户）</li>
            <li><strong>潜力客户：</strong>新注册且完成入金的客户、完成KYC认证的活跃客户</li>
            <li><strong>活跃客户：</strong>客户3966、926、3782、3865等频繁进行资金操作</li>
            <li><strong>流失风险客户：</strong>部分KYC未通过客户、长期无交易或登录频率较低的客户</li>
            <li><strong>监控客户：</strong>存在异常行为的客户（3918、3919、3920等代理账户群）</li>
          </ul>
        </div>
      </div>

      <!-- 6. 核心发现总结 -->
      <div class="section">
        <div class="summary-section">
          <h2>6. 核心发现总结</h2>
          <ul>
            <li>客户群体国际化程度较高，以中国客户为主，测试环境占比较高</li>
            <li>资金规模分布广泛，从几美元到十万美元，呈现两极分化</li>
            <li>交易行为多样化，包含高频程序化交易、短线交易、波段交易等多种风格</li>
            <li>支付方式多样化，包含银行转账、电子支付和内部转账</li>
            <li>风险控制机制运行有效，异常出金申请能被及时识别和拒绝</li>
            <li>存在明显的异常行为模式，需要重点关注和监控</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Chart.js 配置
    Chart.defaults.font.family = "'PingFang SC', 'Microsoft YaHei', sans-serif";
    Chart.defaults.font.size = 14;
    Chart.defaults.color = '#333';

    // 账户类型分布 - 饼图
    new Chart(document.getElementById('accountTypeChart'), {
      type: 'doughnut',
      data: {
        labels: ['直接客户', '代理账户', '员工账户'],
        datasets: [{
          data: [70, 15, 15],
          backgroundColor: [
            'rgba(102, 126, 234, 0.8)',
            'rgba(118, 75, 162, 0.8)',
            'rgba(240, 147, 251, 0.8)'
          ],
          borderWidth: 2,
          borderColor: '#fff'
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'bottom',
            labels: {
              padding: 15,
              font: {
                size: 12
              }
            }
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                return context.label + ': ' + context.parsed + '%';
              }
            }
          }
        }
      }
    });

    // KYC状态分布 - 饼图
    new Chart(document.getElementById('kycStatusChart'), {
      type: 'doughnut',
      data: {
        labels: ['已通过 (状态9)', '未通过 (状态0)'],
        datasets: [{
          data: [90, 10],
          backgroundColor: [
            'rgba(34, 197, 94, 0.8)',
            'rgba(239, 68, 68, 0.8)'
          ],
          borderWidth: 2,
          borderColor: '#fff'
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'bottom',
            labels: {
              padding: 15,
              font: {
                size: 12
              }
            }
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                return context.label + ': ' + context.parsed + '%';
              }
            }
          }
        }
      }
    });

    // 入金规模分布 - 柱状图
    new Chart(document.getElementById('depositAmountChart'), {
      type: 'bar',
      data: {
        labels: ['大额入金', '中等入金', '小额入金'],
        datasets: [{
          label: '客户数量占比',
          data: [5, 15, 80],
          backgroundColor: [
            'rgba(102, 126, 234, 0.8)',
            'rgba(118, 75, 162, 0.8)',
            'rgba(240, 147, 251, 0.8)'
          ],
          borderColor: [
            'rgba(102, 126, 234, 1)',
            'rgba(118, 75, 162, 1)',
            'rgba(240, 147, 251, 1)'
          ],
          borderWidth: 2,
          borderRadius: 8
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                return '占比: ' + context.parsed.y + '%';
              }
            }
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            max: 100,
            ticks: {
              callback: function(value) {
                return value + '%';
              }
            }
          }
        }
      }
    });

    // 支付方式偏好 - 柱状图
    new Chart(document.getElementById('paymentMethodChart'), {
      type: 'bar',
      data: {
        labels: ['银行转账', '电子钱包', '内部转账'],
        datasets: [{
          label: '使用占比',
          data: [60, 25, 15],
          backgroundColor: [
            'rgba(102, 126, 234, 0.8)',
            'rgba(118, 75, 162, 0.8)',
            'rgba(240, 147, 251, 0.8)'
          ],
          borderColor: [
            'rgba(102, 126, 234, 1)',
            'rgba(118, 75, 162, 1)',
            'rgba(240, 147, 251, 1)'
          ],
          borderWidth: 2,
          borderRadius: 8
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                return '占比: ' + context.parsed.y + '%';
              }
            }
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            max: 100,
            ticks: {
              callback: function(value) {
                return value + '%';
              }
            }
          }
        }
      }
    });

    // 风险偏好分布 - 饼图
    new Chart(document.getElementById('riskPreferenceChart'), {
      type: 'pie',
      data: {
        labels: ['高风险偏好', '中等风险偏好', '程序化交易'],
        datasets: [{
          data: [20, 50, 30],
          backgroundColor: [
            'rgba(239, 68, 68, 0.8)',
            'rgba(251, 191, 36, 0.8)',
            'rgba(34, 197, 94, 0.8)'
          ],
          borderWidth: 2,
          borderColor: '#fff'
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'bottom',
            labels: {
              padding: 15,
              font: {
                size: 12
              }
            }
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                return context.label + ': ' + context.parsed + '%';
              }
            }
          }
        }
      }
    });

    // 设备类型分布 - 饼图
    new Chart(document.getElementById('deviceTypeChart'), {
      type: 'doughnut',
      data: {
        labels: ['PC端', '移动端', 'Mac端'],
        datasets: [{
          data: [67, 30, 5],
          backgroundColor: [
            'rgba(102, 126, 234, 0.8)',
            'rgba(118, 75, 162, 0.8)',
            'rgba(240, 147, 251, 0.8)'
          ],
          borderWidth: 2,
          borderColor: '#fff'
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'bottom',
            labels: {
              padding: 15,
              font: {
                size: 12
              }
            }
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                return context.label + ': ' + context.parsed + '%';
              }
            }
          }
        }
      }
    });

    // 渠道来源分布 - 饼图
    new Chart(document.getElementById('channelSourceChart'), {
      type: 'doughnut',
      data: {
        labels: ['网页端', '移动应用', 'MT4/MT5'],
        datasets: [{
          data: [50, 35, 15],
          backgroundColor: [
            'rgba(102, 126, 234, 0.8)',
            'rgba(118, 75, 162, 0.8)',
            'rgba(240, 147, 251, 0.8)'
          ],
          borderWidth: 2,
          borderColor: '#fff'
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'bottom',
            labels: {
              padding: 15,
              font: {
                size: 12
              }
            }
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                return context.label + ': ' + context.parsed + '%';
              }
            }
          }
        }
      }
    });

    // 客户分层分布 - 柱状图
    new Chart(document.getElementById('customerSegmentChart'), {
      type: 'bar',
      data: {
        labels: ['高价值客户', '潜力客户', '活跃客户', '流失风险客户', '监控客户'],
        datasets: [{
          label: '客户数量占比',
          data: [10, 25, 35, 20, 10],
          backgroundColor: [
            'rgba(34, 197, 94, 0.8)',
            'rgba(102, 126, 234, 0.8)',
            'rgba(118, 75, 162, 0.8)',
            'rgba(251, 191, 36, 0.8)',
            'rgba(239, 68, 68, 0.8)'
          ],
          borderColor: [
            'rgba(34, 197, 94, 1)',
            'rgba(102, 126, 234, 1)',
            'rgba(118, 75, 162, 1)',
            'rgba(251, 191, 36, 1)',
            'rgba(239, 68, 68, 1)'
          ],
          borderWidth: 2,
          borderRadius: 8
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                return '占比: ' + context.parsed.y + '%';
              }
            }
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            max: 100,
            ticks: {
              callback: function(value) {
                return value + '%';
              }
            }
          }
        }
      }
    });
  </script>
</body>
</html>

